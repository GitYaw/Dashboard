<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Dashboard</title>
	<script src="static/landing.js"> </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body class="mx-5">
	<h1>Cultivated Meat Dashboard</h1>
	<p>Welcome to the Cultivated Meat Dashboard!</p>
    <!-- Selection of process type -->
	<section id="Inputs">
        <p>Please select a process type from the dropdown menu below:</p>
        <select id="bioreactorType" onchange=selectBioreactor()>
            <option value="40K_STR">42K STR</option>
            <option value="210K_STR">211K STR</option>
            <option value="260K_ALR" selected>262K ALR</option>
        </select>
		<div>
			<h4 id="bioreactorLabel">Flow Diagram: 42,000 L Stirred Tank Bioreactor</h4>
			<img src="static/40K_STR.png" alt="Flow Diagram" id="flowDiagram" class="img-fluid border">
		</div>
		<div id="Parameters">
            <div class="parameter">
                <h6>Media Cost ($/L)</h6>
                <input type="number" value="1" id="mediaCost">
            </div>
            <div class="parameter">
                <h6>Change in Labor Cost (%)</h6>
                <input type="number" value="0" id="laborCost">
            </div>
            <div class="parameter">
                <h6>Cost of Power ($/kW-h)</h6>
                <input type="number" value="0.1" id="powerCost">
            </div>
            <div class="parameter">
                <h6>Cost of Steam ($/MT)</h6>
                <input type="number" value="12" id="steamCost">
            </div>
            <div class="parameter">
                <h6>Cost of Cooling Water ($/MT)</h6>
                <input type="number" value="0.05" id="coolingWaterCost">
            </div>
            <div class="parameter">
                <h6>Cost of Chilled Water ($/MT)</h6>
                <input type="number" value="0.4" id="chilledWaterCost">
            </div>
            <div>
            <!-- can modularize/create function for this -->
            <!-- <div class="parameter">
                <h6 class="mt-3">Media Cost ($/L)</h6>
                <input type="range" id="mediaCostSlider" min="0.1" max="2" step="0.1" value="1"
                    oninput="updateParameter('mediaCost', this.value, 'true')">
                <input type="number" id="mediaCost" min="0.1" max="2" step="0.1" value="1"
                    onchange="updateParameter('mediaCost', this.value)">
            </div>
            <div class="parameter">
                <h6 class="mt-3">Labor Cost (Â±%)</h6>
                <input type="range" id="laborCostSlider" min="-10" max="10" step="1" value="0"
                    oninput="updateParameter('laborCost', this.value, 'true')">
                <input type="number" id="laborCost" min="-10" max="10" step="1" value="0"
                    onchange="updateParameter('laborCost', this.value)">
            </div>
            <div class="parameter">
                <h6 class="mt-3">Power Cost ($/kW-h)</h6>
                <input type="range" id="powerCostSlider" min="-20" max="20" step="2" value="0"
                    oninput="updateParameter('powerCost', this.value, 'true')">
                <input type="number" id="powerCost" min="-20" max="20" step="2" value="0"
                    onchange="updateParameter('powerCost', this.value)">
            </div> -->
            </div>
        </div>
		<button onclick="displayOutputs()">Update</button>
	</section>
	<section id="Outputs">
        <div>
            <!-- have two columns?  -->
            <div>
                <h3>Expense Breakdown</h3>
                <ul>
                    <li><strong>Bioreactor:</strong> <span id="bioreactorName"></span></li>
                    <li><strong>Annual Production:</strong> <span id="annualProduction"></span> MT/yr</li>
                    <li><strong>Capital Expenses:</strong> $<span id="capitalExpenses"></span> million</li>
                    <li><strong>Operating Expenses:</strong> $<span id="operatingExpenses"></span> million/yr</li>
                    <li><strong>COGS (with Depreciation):</strong> $<span id="cogsWithDepreciation"></span>/kg</li>
                    <li><strong>COGS (without Depreciation):</strong> $<span id="cogsWithoutDepreciation"></span>/kg</li>
                </ul>
            </div>
            <div>
                <canvas id="expensesChart"></canvas>
            </div>
        </div>
	</section>
</body>

</html>